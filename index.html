<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown to Her Magic Day ‚ú®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffd1dc 0%, #e0b0ff 50%, #b0e0ff 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .floating-element {
            position: fixed;
            pointer-events: none;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
            z-index: 1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            75% { transform: translateY(20px) rotate(-5deg); }
        }

        .container {
            position: relative;
            z-index: 2;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        /* PRE-BIRTHDAY SECTION */
        .pre-birthday {
            display: block;
            text-align: center;
            padding: 40px 20px;
        }

        .photo-frame {
            width: 280px;
            height: 350px;
            margin: 30px auto;
            background: white;
            padding: 15px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border-radius: 20px 20px 5px 5px;
            position: relative;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
            50% { box-shadow: 0 15px 40px rgba(255,182,193,0.5), 0 0 20px rgba(255,182,193,0.3); }
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffd1dc, #ffb6c1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
        }

        .title {
            font-size: 2.5em;
            color: #eb0f7d;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
            50% { text-shadow: 0 0 20px rgba(255,105,180,0.5); }
        }

        .countdown-section {
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 30px;
            margin: 30px auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .countdown-title {
            font-size: 1.5em;
            color: #ff69b4;
            margin-bottom: 25px;
        }

        .countdown-timer {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .time-unit {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            padding: 20px;
            border-radius: 15px;
            color: white;
            box-shadow: 0 5px 15px rgba(255,105,180,0.3);
        }

        .time-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            animation: pop 0.5s ease;
        }

        .time-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }

        @keyframes pop {
            0% { transform: scale(0.8); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .miss-button {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 5px 20px rgba(255,105,180,0.4);
            transition: all 0.3s ease;
        }

        .miss-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,105,180,0.6);
        }

        .miss-message {
            margin-top: 20px;
            font-size: 1.3em;
            color: #ff69b4;
            min-height: 30px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* BIRTHDAY SECTION */
        .birthday-section {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .birthday-title {
            font-size: 3em;
            color: #ff69b4;
            margin-bottom: 40px;
            animation: rainbow 3s linear infinite;
        }

        @keyframes rainbow {
            0% { color: #ff69b4; }
            25% { color: #ffd700; }
            50% { color: #87ceeb; }
            75% { color: #dda0dd; }
            100% { color: #ff69b4; }
        }

        .cake-container {
            position: relative;
            margin: 50px auto;
            width: 300px;
            height: 300px;
        }

        .cake {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #ffb6c1, #ff69b4);
            border-radius: 20px 20px 0 0;
            position: absolute;
            bottom: 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .cake-layer {
            width: 90%;
            height: 50px;
            background: linear-gradient(135deg, #fff, #ffb6c1);
            position: absolute;
            bottom: 100px;
            left: 5%;
            border-radius: 10px;
        }

        .candles {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
        }

        .candle {
            width: 15px;
            height: 60px;
            background: linear-gradient(135deg, #fff, #ffd700);
            border-radius: 5px 5px 0 0;
            position: relative;
        }

        .flame {
            width: 20px;
            height: 25px;
            background: radial-gradient(circle, #ffff00, #ff6600);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute;
            top: -20px;
            left: -2.5px;
            animation: flicker 0.5s ease-in-out infinite;
        }

        .flame.out {
            animation: blowOut 0.5s ease forwards;
        }

        @keyframes flicker {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.1); }
        }

        @keyframes blowOut {
            to { opacity: 0; transform: scale(0); }
        }

        .blow-instruction {
            margin: 40px 0;
            font-size: 1.5em;
            color: #f20b7f;
        }

        .blow-button {
            background: linear-gradient(135deg, #ff69b4, #ff1493);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(255,105,180,0.4);
            transition: all 0.3s ease;
        }

        .blow-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,105,180,0.6);
        }

        /* LETTER SECTION */
        .letter-section {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .postman {
            width: 150px;
            height: 150px;
            margin: 0 auto 30px;
            animation: walk 2s ease-in-out;
        }

        @keyframes walk {
            from { transform: translateX(-200px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .postman-emoji {
            font-size: 120px;
            animation: bounce 0.5s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .envelope {
            width: 300px;
            height: 200px;
            margin: 30px auto;
            background: linear-gradient(135deg, #ffe4e1, #ffb6c1);
            border-radius: 10px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope-flap {
            width: 0;
            height: 0;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-top: 100px solid #ff69b4;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top;
            transition: transform 0.6s ease;
        }

        .envelope.open .envelope-flap {
            transform: rotateX(180deg);
        }

        .envelope-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2em;
            color: #e175f444;
            font-weight: bold;
        }

        .letter-content {
            display: none;
            max-width: 600px;
            margin: 40px auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(229, 8, 8, 0.768);
            text-align: left;
            line-height: 1.8;
            color: #cf32a7;
            font-size: 1.1em;
        }

        .letter-content p {
            margin-bottom: 20px;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #ff69b4;
            animation: confetti-fall 3s linear;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .final-message {
            display: none;
            text-align: center;
            margin: 50px auto;
            font-size: 2em;
            color: #db0b9c;
            animation: starForm 2s ease;
        }

        @keyframes starForm {
            from { opacity: 0; transform: scale(0); }
            to { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 600px) {
            .countdown-timer {
                grid-template-columns: repeat(2, 1fr);
            }
            .title {
                font-size: 1.8em;
            }
            .birthday-title {
                font-size: 2em;
            }
        }
        .cursor-trail {
    position: fixed;
    pointer-events: none;
    font-size: 18px;
    animation: trailFade 1s ease forwards;
    z-index: 9999;
}

@keyframes trailFade {
    0% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    100% {
        opacity: 0;
        transform: scale(0.5) translateY(-15px);
    }
}

    </style>
</head>
<body>
    <div class="container">
        <!-- PRE-BIRTHDAY SECTION -->
        <div class="pre-birthday" id="preBirthday">
            <h1 class="title">‚ú® Counting Down to Magic ‚ú®</h1>
            
            <div class="photo-frame">
    <img src="lo.jpeg" alt="Birthday Girl" class="photo-placeholder">
</div>


            <div class="countdown-section">
                <div class="countdown-title">Counting every heartbeat until your special day üíï</div>
                <div class="countdown-timer" id="countdown">
                    <div class="time-unit">
                        <span class="time-number" id="days">00</span>
                        <span class="time-label">Days</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="hours">00</span>
                        <span class="time-label">Hours</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="minutes">00</span>
                        <span class="time-label">Minutes</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-number" id="seconds">00</span>
                        <span class="time-label">Seconds</span>
                    </div>
                </div>

                <button class="miss-button" onclick="showMissMessage()">Tap me üíó</button>
                <div class="miss-message" id="missMessage"></div>
            </div>
        </div>

        <!-- BIRTHDAY SECTION -->
        <div class="birthday-section" id="birthdaySection">
            <h1 class="birthday-title">TODAY IS YOUR DAY üéÇ‚ú®</h1>
            
            <div class="cake-container">
                <div class="cake">
                    <div class="cake-layer"></div>
                    <div class="candles" id="candles">
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                    </div>
                </div>
            </div>

            <div class="blow-instruction">Make a wish‚Ä¶ and blow the candles üí®</div>
        </div>

        <!-- LETTER SECTION -->
        <div class="letter-section" id="letterSection">
            <div class="postman">
                <div class="postman-emoji">üìÆ</div>
            </div>

            <div class="envelope" id="envelope" onclick="openEnvelope()">
                <div class="envelope-flap"></div>
                <div class="envelope-text">Click to Open üíå</div>
            </div>

            <div class="letter-content" id="letterContent">
    <p>Dear Little One üíï,</p>

    <p>You are truly the best person I have ever met in my life and today, along with your birthday, we are also celebrating something very special‚Ä¶ our <strong>7 years of friendship</strong> üå∏</p>

    <p>In all these years, there has not been a single day where I regretted meeting you. Not even once. Every moment spent with you has been magical in its own way ‚ú®</p>

    <p>From those cute little days  where we shared your brother as <em>my</em> brother in the most innocent, friendly way  to now, where we share our lives, our thoughts, our worries, and our dreams as grown adults‚Ä¶ it feels unreal how far we‚Äôve come.</p>

    <p>You have seen me grow, and I have seen you grow. We changed, learned, and became better versions of ourselves together ü§ç</p>

    <p>You inspire me more than you know. Your strength, your kindness, your way of looking at life‚Ä¶ they quietly push me to be better every single day.</p>

    <p>Seven years may sound like just a number, but to me, it‚Äôs seven years of memories, laughter, late talks, understanding, comfort, and trust. And honestly? It still feels like we can go on for so long‚Ä¶ maybe forever üêæ‚ú®</p>

    <p>Thank you for being my constant, my safe space, my biggest blessing. I‚Äôm so grateful for you, today and always üíó</p>

    <p style="text-align: right; margin-top: 30px;">
        With all my love and warmth,<br>
        Always here for you üåôüí´
    </p>
</div>


            <div class="final-message" id="finalMessage">
                üåô ‚ú® Happy Birthday Little One ‚ú® üåô
            </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
    </audio>

    <script>
/* FLOATING ELEMENTS */
function createFloatingElements() {
    const symbols = ['‚ú®', 'üíï', 'üéà', '‚≠ê', 'üíñ', 'üéâ', 'üå∏'];
    for (let i = 0; i < 20; i++) {
        const elem = document.createElement('div');
        elem.className = 'floating-element';
        elem.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        elem.style.fontSize = (Math.random() * 20 + 20) + 'px';
        elem.style.left = Math.random() * 100 + '%';
        elem.style.top = Math.random() * 100 + '%';
        elem.style.animationDelay = Math.random() * 5 + 's';
        elem.style.animationDuration = (Math.random() * 4 + 4) + 's';
        document.body.appendChild(elem);
    }
}
createFloatingElements();

/* COUNTDOWN */
const targetDate = new Date('2026-01-08T00:00:00').getTime();

function updateCountdown() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
        showBirthdaySection();
        return;
    }

    document.getElementById('days').textContent =
        String(Math.floor(distance / (1000 * 60 * 60 * 24))).padStart(2, '0');
    document.getElementById('hours').textContent =
        String(Math.floor((distance / (1000 * 60 * 60)) % 24)).padStart(2, '0');
    document.getElementById('minutes').textContent =
        String(Math.floor((distance / (1000 * 60)) % 60)).padStart(2, '0');
    document.getElementById('seconds').textContent =
        String(Math.floor((distance / 1000) % 60)).padStart(2, '0');
}

setInterval(updateCountdown, 1000);
updateCountdown();

/* MISS BUTTON */
const missMessages = [
    "8th Jan is getting closer üåô",
    "Littleone is getting older‚Ä¶ but cuter ü•∞",
    "Anki di hates you ‚ú®",
    "The stars are counting down too üåü",
    "Your day will be pure magic üí´"
];
let messageIndex = 0;

function showMissMessage() {
    document.getElementById('missMessage').textContent =
        missMessages[messageIndex];
    messageIndex = (messageIndex + 1) % missMessages.length;
}

/* BIRTHDAY SECTION */
function showBirthdaySection() {
    document.getElementById('preBirthday').style.display = 'none';
    document.getElementById('birthdaySection').style.display = 'block';
    createConfetti(50);
    playMusic();        // üé∂ start music
    startMicDetection();
}


/* üé§ MIC BLOW DETECTION */
let audioContext, analyser, microphone, dataArray;
let blowDetected = false;

async function startMicDetection() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        audioContext = new AudioContext();
        analyser = audioContext.createAnalyser();
        microphone = audioContext.createMediaStreamSource(stream);
        microphone.connect(analyser);
        analyser.fftSize = 256;
        dataArray = new Uint8Array(analyser.frequencyBinCount);
        detectBlow();
    } catch {
        alert("Please allow microphone access üé§");
    }
}

let blowFrames = 0;

function detectBlow() {
    analyser.getByteFrequencyData(dataArray);
    const volume = dataArray.reduce((a, b) => a + b) / dataArray.length;

    if (volume > 35) {
        blowFrames++;
    } else {
        blowFrames = 0;
    }

    // Require sustained blow for a few frames
    if (blowFrames > 5 && !blowDetected) {
        blowDetected = true;
        extinguishCandles();
    }

    requestAnimationFrame(detectBlow);
}


function extinguishCandles() {
    document.querySelectorAll('.flame').forEach((flame, i) => {
        setTimeout(() => flame.classList.add('out'), i * 300);
    });

    setTimeout(() => {
        createConfetti(120);
        document.getElementById('birthdaySection').style.display = 'none';
        document.getElementById('letterSection').style.display = 'block';
    }, 2500);
}

/* ENVELOPE */
function openEnvelope() {
    const envelope = document.getElementById('envelope');
    envelope.classList.add('open');
    setTimeout(() => {
        envelope.style.display = 'none';
        document.getElementById('letterContent').style.display = 'block';
        setTimeout(() => {
            document.getElementById('finalMessage').style.display = 'block';
        }, 2000);
    }, 800);
}

/* CONFETTI */
function createConfetti(count) {
    const colors = ['#ff69b4', '#ffd700', '#87ceeb', '#dda0dd', '#98fb98'];
    for (let i = 0; i < count; i++) {
        setTimeout(() => {
            const c = document.createElement('div');
            c.className = 'confetti';
            c.style.left = Math.random() * 100 + '%';
            c.style.background = colors[Math.floor(Math.random() * colors.length)];
            document.body.appendChild(c);
            setTimeout(() => c.remove(), 3000);
        }, i * 30);
    }
}

/* TEST MODE */
showBirthdaySection(); // ‚Üê uncomment only for testing


function playMusic() {
    const music = document.getElementById("bgMusic");
    if (!music) return;

    music.volume = 0.4;
    music.play().then(() => {
        console.log("üé∂ Music playing");
    }).catch(err => {
        console.log("Music blocked:", err);
    });
}

document.addEventListener("click", () => {
    playMusic();
}, { once: true });

/* üêæ CURSOR TRAIL */
let lastTrailTime = 0;

document.addEventListener("mousemove", (e) => {
    const now = Date.now();
    if (now - lastTrailTime < 80) return;
    lastTrailTime = now;

    const trail = document.createElement("span");
    trail.className = "cursor-trail";
    trail.textContent = "üêæ";
    trail.style.left = e.clientX + "px";
    trail.style.top = e.clientY + "px";
    document.body.appendChild(trail);

    setTimeout(() => trail.remove(), 1000);
});


   
</script>



</body>
</html>